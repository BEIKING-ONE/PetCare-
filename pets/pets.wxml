<!-- pages/pets/pets.wxml -->
<view class="pets-page">
  <!-- å® ç‰©å¤´éƒ¨ -->
  <view class="pets-header">
    <text class="page-title">ğŸ¾ æˆ‘çš„å® ç‰©</text>
    <button class="add-pet-btn" bindtap="addPet">+ æ·»åŠ å® ç‰©</button>
  </view>

  <!-- å® ç‰©åˆ—è¡¨ -->
  <view class="pets-list">
    <block wx:for="{{pets}}" wx:key="id">
      <view class="pet-card" bindtap="viewPetDetail" data-id="{{item.id}}">
        <!-- å® ç‰©å¤´åƒ -->
        <view class="pet-avatar">
          <image 
            class="pet-avatar-img" 
            src="{{item.avatar}}" 
            mode="aspectFill"
            wx:if="{{item.avatar && item.avatar.length > 4}}"
          />
          <text class="pet-emoji" wx:else>{{item.avatar || 'ğŸ¾'}}</text>
        </view>

        <!-- å® ç‰©ä¿¡æ¯ -->
        <view class="pet-info">
          <view class="pet-name-section">
            <text class="pet-name">{{item.name}}</text>
            <text class="pet-type">{{item.typeName}}</text>
          </view>
          <view class="pet-details">
            <text class="detail-item">å“ç§: {{item.breed}}</text>
            <text class="detail-item">å¹´é¾„: {{item.age}}</text>
            <text class="detail-item">ä½“é‡: {{item.weight}}</text>
            <text class="detail-item">æ€§åˆ«: {{item.gender}}</text>
          </view>
          <view class="pet-meta">
            <text class="meta-item">ç”Ÿæ—¥: {{item.birthday}}</text>
            <text class="meta-item health-{{item.healthStatus}}">å¥åº·çŠ¶æ€: {{item.healthStatus}}</text>
          </view>
        </view>

        <!-- å® ç‰©æ“ä½œ -->
        <view class="pet-actions" catchtap>
          <text class="action-btn edit" bindtap="editPet" data-id="{{item.id}}">ç¼–è¾‘</text>
          <text class="action-btn delete" bindtap="deletePet" data-id="{{item.id}}">åˆ é™¤</text>
        </view>
      </view>
    </block>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{pets.length === 0}}">
    <text class="empty-icon">ğŸ¾</text>
    <text class="empty-text">æš‚æ— å® ç‰©</text>
    <text class="empty-tip">æ·»åŠ ä½ çš„ç¬¬ä¸€åªå® ç‰©å§</text>
    <button class="add-first-btn" bindtap="addPet">æ·»åŠ å® ç‰©</button>
  </view>
</view>