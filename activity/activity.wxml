<!-- pages/activity/activity.wxml -->
<view class="activity-page">
  <!-- é¡µé¢å¤´éƒ¨ -->
  <view class="activity-header">
    <text class="page-title">ğŸ‰ æ´»åŠ¨ä¸“åŒº</text>
    <text class="page-desc">ç²¾å½©æ´»åŠ¨ï¼Œä¸å®¹é”™è¿‡</text>
  </view>

  <!-- åˆ†ç±»ç­›é€‰ -->
  <view class="category-filter">
    <view class="filter-item {{activeCategory === 'all' ? 'active' : ''}}" bindtap="switchCategory" data-cat="all">
      <text class="filter-text">å…¨éƒ¨</text>
    </view>
    <view class="filter-item {{activeCategory === 'limited' ? 'active' : ''}}" bindtap="switchCategory" data-cat="limited">
      <text class="filter-text">é™æ—¶æ´»åŠ¨</text>
    </view>
    <view class="filter-item {{activeCategory === 'member' ? 'active' : ''}}" bindtap="switchCategory" data-cat="member">
      <text class="filter-text">ä¼šå‘˜ä¸“äº«</text>
    </view>
    <view class="filter-item {{activeCategory === 'festival' ? 'active' : ''}}" bindtap="switchCategory" data-cat="festival">
      <text class="filter-text">èŠ‚æ—¥ç‰¹æƒ </text>
    </view>
    <view class="filter-item {{activeCategory === 'newuser' ? 'active' : ''}}" bindtap="switchCategory" data-cat="newuser">
      <text class="filter-text">æ–°äººç¤¼åŒ…</text>
    </view>
  </view>

  <!-- æ´»åŠ¨åˆ—è¡¨ -->
  <view class="activity-list">
    <block wx:for="{{filteredActivities}}" wx:key="id">
      <view class="activity-card" bindtap="viewActivityDetail" data-id="{{item.id}}">
        <view class="activity-emoji">{{item.emoji}}</view>
        <view class="activity-content">
          <view class="activity-badge {{item.type}}">{{item.typeText}}</view>
          <text class="activity-title">{{item.title}}</text>
          <text class="activity-desc">{{item.description}}</text>
          <view class="activity-info">
            <text class="activity-time">â° {{item.time}}</text>
            <text class="activity-status {{item.status}}">{{item.statusText}}</text>
          </view>
          <view class="activity-footer">
            <text class="activity-price">ğŸ’° {{item.price}}</text>
            <text class="activity-participants">ğŸ‘¥ {{item.participants}}äººå‚ä¸</text>
          </view>
        </view>
      </view>
    </block>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading-state" wx:if="{{loading}}">
    <view class="loading-spinner"></view>
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{!loading && filteredActivities.length === 0}}">
    <text class="empty-emoji">ğŸ“­</text>
    <text class="empty-title">æš‚æ— æ´»åŠ¨</text>
    <text class="empty-desc">ç²¾å½©æ´»åŠ¨å³å°†ä¸Šçº¿ï¼Œæ•¬è¯·æœŸå¾…</text>
  </view>

  <!-- åˆ†é¡µæ§ä»¶ -->
  <view class="pagination" wx:if="{{hasMore && !loading}}">
    <view class="pagination-btn" bindtap="loadMore">
      <text class="pagination-text">åŠ è½½æ›´å¤š</text>
    </view>
  </view>
</view>