<!-- pages/address/address.wxml -->
<view class="address-page">
  <!-- åœ°å€å¤´éƒ¨ -->
  <view class="address-header">
    <text class="page-title">ğŸ“ æ”¶è´§åœ°å€</text>
    <button class="add-btn" bindtap="addAddress">+ æ·»åŠ åœ°å€</button>
  </view>

  <!-- åœ°å€åˆ—è¡¨ -->
  <view class="address-list">
    <block wx:for="{{addresses}}" wx:key="id">
      <view class="address-card" bindtap="{{selectMode ? 'selectAddress' : 'editAddress'}}" data-id="{{item.id}}">
        <!-- åœ°å€ä¿¡æ¯ -->
        <view class="address-info">
          <view class="address-top">
            <text class="address-name">{{item.name}}</text>
            <text class="address-phone">{{item.phone}}</text>
            <text class="default-tag" wx:if="{{item.isDefault}}">é»˜è®¤</text>
          </view>
          <text class="address-detail">{{item.province}}{{item.city}}{{item.district}}{{item.detail}}</text>
        </view>

        <!-- åœ°å€æ“ä½œ -->
        <view class="address-actions" catchtap>
          <text class="action-btn default" bindtap="setDefault" data-id="{{item.id}}" wx:if="{{!item.isDefault}}">è®¾ä¸ºé»˜è®¤</text>
          <text class="action-btn edit" bindtap="editAddress" data-id="{{item.id}}">ç¼–è¾‘</text>
          <text class="action-btn delete" bindtap="deleteAddress" data-id="{{item.id}}">åˆ é™¤</text>
        </view>
      </view>
    </block>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{addresses.length === 0}}">
    <text class="empty-icon">ğŸ“</text>
    <text class="empty-text">æš‚æ— æ”¶è´§åœ°å€</text>
    <text class="empty-tip">æ·»åŠ ä¸€ä¸ªæ”¶è´§åœ°å€å§</text>
    <button class="add-first-btn" bindtap="addAddress">æ·»åŠ åœ°å€</button>
  </view>
</view>